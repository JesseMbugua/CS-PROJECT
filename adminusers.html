<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Users - Street Cleanup</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <h2>Admin Panel</h2>
      <ul>
  <li id="manage-users-btn" class="active-dashboard">Manage Users</li>
  <li id="manage-events-btn">Manage Events</li>
  <li id="reports-btn">Reports</li>
</ul>
    </aside>
    <main class="main-content">
      <header>
        <h1>All Users</h1>
      </header>
      <section class="table-section">
        <table>
          <thead>
            <tr>
              <th>Email</th>
            </tr>
          </thead>
          <tbody id="users-tbody">
            <!-- Users will be loaded here -->
          </tbody>
        </table>
      </section>
    </main>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
  document.querySelector('.sidebar ul').addEventListener('click', function(e) {
    const text = e.target && e.target.textContent.trim();
    if (text === 'Manage Users') window.location.href = 'adminusers.html';
    if (text === 'Manage Events') window.location.href = 'admin.html';
    if (text === 'Reports') window.location.href = 'adminreport.html';
    if (text === 'Logout') window.location.href = 'login.html';
  });
});
    async function loadUsers() {
      const res = await fetch('/api/admin/users');
      const users = await res.json();
      const tbody = document.getElementById('users-tbody');
      tbody.innerHTML = '';
      users.forEach(user => {
        tbody.innerHTML += `
          <tr>
            <td>${user.email}</td>
          </tr>
        `;
      });
    }
    document.addEventListener('DOMContentLoaded', loadUsers);
  </script>
</body>
</html>